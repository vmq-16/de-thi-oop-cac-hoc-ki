# TRƯỜNG ĐẠI HỌC KHOA HỌC TỰ NHIÊN, ĐHQG-HCM
## ĐỀ THI KẾT THÚC HỌC PHẦN - CLC
## Học kỳ 1 – Năm học 2023-2024

| **Tên học phần:** | Phương pháp lập trình hướng đối tượng |
| :--- | :--- |
| **Mã HP:** | CSC10003 |
| **Thời gian:** | 100 phút |
| **Ngày thi:** | 3/1/2025 |
| **Ghi chú:** | *Sinh viên được phép sử dụng 1 TỜ A4 VIẾT TAY trong phòng thi* |

---
* **Link đề:** [https://www.facebook.com/groups/tailieuhcmus/posts/1353312501968409](https://www.facebook.com/groups/tailieuhcmus/posts/1353312501968409)
* **Video giải đề:** [https://youtu.be/AzytbnNJIn8?si=mHstDl_V6uefr_EQ](https://youtu.be/AzytbnNJIn8?si=mHstDl_V6uefr_EQ)

---

**Câu 1 (1 điểm)**
Nêu ba điểm khác biệt giữa hàm ảo (virtual function) và hàm thuần ảo (pure virtual function) trong C++.

**Câu 2 (2 điểm)**

<table style="border: 1px solid black; width: 100%;">
<tr>
<td>
<pre lang="cpp">
1:  #include &lt;iostream&gt;
2:
3:  struct Beverage {
4:    Beverage() { std::cout << "Make new beverage.\n"; }
5:    Beverage(const Beverage &b) { std::cout << "Copy beverage.\n"; }
6:  };
7:  struct Coffee: public Beverage {
8:    Coffee() { std::cout << "Make new coffee.\n"; }
9:    Coffee(const Coffee &c) { std::cout << "Copy coffee.\n"; }
10: };
11: struct Cappuchino: public Coffee {
12:   Cappuchino() { std::cout << "Make new cappuchino.\n"; }
13: };
14:
15: int main() {
16:   Cappuchino c1;
      Cappuchino c2(c1);
    }
</pre>
</td>
</tr>
</table>

a) Những gì được in ra màn hình khi biên dịch và thực thi chương trình trên? <br>
b) Giải thích thứ tự thực thi của chương trình.

**Câu 3 (3 điểm)**
Lớp `PrimeList` được sử dụng để tạo và chứa một danh sách các số nguyên tố nhỏ hơn một số nguyên giới hạn trên (upper bound integer). Bằng cách chỉ sử dụng con trỏ thô (raw pointer) và cấp phát bộ nhớ trong C++, hãy cài đặt lớp `PrimeList` để hàm main sau chạy đúng (không bị lỗi rò rỉ bộ nhớ hoặc lỗi ngữ nghĩa):

```cpp
int main() {
  PrimeList list1(100);   // Khởi tạo danh sách snt với cận trên 100.
  std::cout << list1;     // In tất cả snt trong danh sách.
  list1.generate(500);    // Tái tạo danh sách với cận trên mới là 500.

  PrimeList list2;        // Khởi tạo danh sách rỗng.
  list2 = list1;          // Sao chép danh sách.
  std::cout << list2[list2.count() - 1]; // In snt cuối cùng trong danh sách.
}
```

**Câu 4 (4 điểm)**
Web crawler là một chương trình tự động thu thập dữ liệu từ các nguồn trực tuyến cụ thể. Bạn đang tham gia một dự án viết một web crawler để lấy giá iPhone từ một trang web bằng ngôn ngữ C++.

Cho đoạn mã từ hàm main dưới đây minh họa cách sử dụng crawler:

```cpp
// Đoạn mã từ hàm main...
const char *url = "mobiles.com/iphone";
Crawler *task = new Crawler(url);
std::vector<Mobile *> items = task->execute();

std::cout << "Crawled " << items.size() << " phones from " << url << "\n";

for (Mobile *mobile: items) {
  mobile->print();
  std::cout << "\n";
}
```
**Sample output:**
```text
Crawled 4 phones from [mobiles.com/iphone](https://mobiles.com/iphone)
iPhone 11 64GB - 8950000
iPhone 12 128GB - 12500000
iPhone 13 Pro Max 256 GB - 18990000
iPhone 14 Pro 512GB - 23790000
```

**Thực hiện các công việc sau:** <br>
&emsp;a) **Vẽ sơ đồ** lớp để mô tả các lớp trong đoạn mã. (1.5 điểm) <br>
&emsp;b) **Cài đặt (viết code)** lớp **Mobile** từ đoạn mã. (1 điểm) <br>
&emsp;c) **Thiết kế và vẽ sơ đồ lớp (không viết code)** cho giải pháp hỗ trợ các loại định dạng tiền tệ khác nhau khi in kết quả đầu ra. (1 điểm)
<table style="border: 1px solid black; width: 100%; border-collapse: collapse;">
<tr>
<th style="border: 1px solid black; padding: 5px;">Sample output with vi-VN format</th>
<th style="border: 1px solid black; padding: 5px;">Sample output with en-US format</th>
</tr>
<tr>
<td style="border: 1px solid black; vertical-align: top;">
<pre style="margin: 0;">
Crawled 4 phones from mobiles.com/iphone
iPhone 11 64GB - 8.950.000 đ
iPhone 12 128GB - 12.500.000 đ
iPhone 13 Pro Max 256 GB - 18.990.000 đ
iPhone 14 Pro 512GB - 23.790.000 đ
</pre>
</td>
<td style="border: 1px solid black; vertical-align: top;">
<pre style="margin: 0;">
Crawled 4 phones from mobiles.com/iphone
iPhone 11 64GB - VND 8,950,000
iPhone 12 128GB - VND 12,500,000
iPhone 13 Pro Max 256 GB - VND 18,990,000
iPhone 14 Pro 512GB - VND 23,790,000
</pre>
</td>
</tr>
</table>

&emsp;d) **Thiết kế và vẽ sơ đồ lớp (không viết code)** cho giải pháp hỗ trợ các cách bố cục (layout) khác nhau khi in kết quả đầu ra. (0.5 điểm)

<table style="border: 1px solid black; width: 100%; border-collapse: collapse;">
<tr>
<th style="border: 1px solid black; padding: 5px;">Sample output with simple layout and vi-VN format</th>
<th style="border: 1px solid black; padding: 5px;">Sample output with table layout and en-US format</th>
</tr>
<tr>
<td style="border: 1px solid black; vertical-align: top;">
<pre style="margin: 0;">
Crawled 4 phones from mobiles.com/iphone
iPhone 11 64GB - 8.950.000 đ
iPhone 12 128GB - 12.500.000 đ
iPhone 13 Pro Max 256 GB - 18.990.000 đ
iPhone 14 Pro 512GB - 23.790.000 đ
</pre>
</td>
<td style="border: 1px solid black; vertical-align: top;">
<pre style="margin: 0;">
Crawled 4 phones from mobiles.com/iphone
|Name                          |Price       |
|-------------------------------------------|
|iPhone 11 64GB                |VND 8,950,000|
|iPhone 12 128GB               |VND 12,500,000|
|iPhone 13 Pro Max 256 GB      |VND 18,990,000|
|iPhone 14 Pro 512GB           |VND 23,790,000|
</pre>
</td>
</tr>
</table>

<center><strong>- HẾT -</strong></center>