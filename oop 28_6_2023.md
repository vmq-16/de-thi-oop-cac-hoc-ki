# TRƯỜNG ĐẠI HỌC KHOA HỌC TỰ NHIÊN, ĐHQG-HCM
## ĐỀ THI KẾT THÚC HỌC PHẦN - ĐẠI TRÀ (?)
## Học kỳ 2 – Năm học 2022-2023

| **Tên học phần:** | Phương pháp lập trình hướng đối tượng |
| :--- | :--- |
| **Mã HP:** | CSC10003 |
| **Thời gian:** | 100 phút |
| **Ngày thi:** | 28/6/2023 |
| **Ghi chú:** | *Sinh viên được phép sử dụng tài liệu giấy khi làm bài.* |

---
* **Link đề:** [https://www.facebook.com/groups/tailieuhcmus/posts/1260083551291305](https://www.facebook.com/groups/tailieuhcmus/posts/1260083551291305)
* **Video giải đề** [https://youtu.be/f0dgv0jJ8ZU?si=zuO9XdrgzDwBLpG9](https://youtu.be/f0dgv0jJ8ZU?si=zuO9XdrgzDwBLpG9)

---

### Câu 1
Khai báo lớp đối tượng (class) Mobile, mô tả thông tin của 1 điện thoại, gồm 3 thuộc tính (attribute): mã nhận dạng (code), tên dòng điện thoại (name), nhãn hiệu (brand), ngày sản xuất (manufacturing date). Cài đặt toán tử (operator) nhập, toán tử xuất và phương thức (method) so sánh 2 điện thoại (so sánh theo ngày sản xuất).

### Câu 2
Giải thích ngắn gọn và cho biết kết quả in ra màn hình của đoạn code sau.

```cpp
#include <iostream>
using namespace std;

class Base
{
public:
    Base()
    {
        cout << "Base::Base()" << endl;
    }
    Base(int t)
    {
        cout << "Base::Base(int)" << endl;
    }
    Base(int t, int k)
    {
        cout<<"Base::Base(int,int)" << endl;
    }
    Base(const Base& src)
    {
        cout<<"Base::Base(const Base&)" << endl;
    }
    Base& operator=(const Base& src)
    {
        cout << "Base::operator=()" << endl;
        return *this;
    }
    virtual void doSth(int x)
    {
        cout << "Base::doSth(int)" << endl;
    }
    void doSthE(int x)
    {
        cout << "Base::doSthE(int)" << endl;
    }
    virtual ~Base()
    {
        cout << "Base::~Base()" << endl;
    }
};

class Derived: public Base
{
public:
    Derived()
    {
        cout<<"Derived::Derived()" << endl;
    }
    Derived(int t): Base(t)
    {
        cout<<"Derived::Derived(int)" << endl;
    }
    Derived(int t, int k)
    {
        cout<<"Derived::Derived(int, int)" << endl;
    }
    Derived(const Derived& src): Base(src)
    {
        cout<<"Derived::Derived(const Derived &)" << endl;
    }
    Derived& operator=(const Derived& src)
    {
        cout<<"Derived::operator=()" << endl;
        return *this;
    }
    void doSth(int x)
    {
        cout << "Derived::doSth(int)" << endl;
    }
    void doSthE(int x)
    {
        cout << "Derived::doSthE(int)" << endl;
    }
    ~Derived()
    {
        cout << "Derived::~Derived()" << endl;
    }
};

void testing(Base& first, Derived second)
{
    cout << "Testing 3: " << endl;
    Derived x;
    x = second;
    first.doSth(1);
    first.doSthE(2);
    cout << "Testing 4: " << endl;
    x.doSth(3);
    x.doSthE(4);
}

int main()
{
    cout << "Testing 1: " << endl;
    Derived x(5), y(3, 7);
    cout << "Testing 2: " << endl;
    testing(x, y);
    cout << "Testing 5: " << endl;
    return 0;
}
```

### Câu 3
Công ty AlphaTech mở cuộc thi Hackathon nội bộ cho các nhân viên trong công ty mỗi tháng. Có 2 loại dự án mà nếu chiến thắng sẽ được tài trợ kinh phí như sau: 
* Dự án dạng **ý tưởng:** tùy theo số **tháng** nhóm cần để phát triển mà được tài trợ tiền tương ứng. Ban đầu công ty quyết định mỗi tháng sẽ tài trợ **20** triệu.
* Dự án dạng **sản phẩm tối thiểu:** Dự án loại này đã được phát triển tính năng tối thiểu vừa đủ (MVP - Minimal viable product). Tiền tài trợ sẽ bao gồm hai chi phí là **marketing** để quảng bá và chi phí **vận hành** sản phẩm thử nghiệm với số lượng người dùng ban đầu có được từ việc quảng bá. Chi phí cho mỗi tháng sẽ được tài trợ là **15** triệu và là như nhau cho cả hai mục đích quảng bá cũng như vận hành.

Bạn được yêu cầu xây dựng ứng dụng giúp công ty quản lí các dự án được tài trợ theo phương pháp lập trình hướng đối tượng. <br>
Biết hàm main chính của chương trình có mã nguồn như sau:

```cpp
int main()
{
    cout << "Chương trình hỗ trợ Hackathon của AlphaTech tháng 6/2023" << endl;
    vector<Project*> projects = { // Bỏ qua tiềm ẩn rò rỉ vùng nhớ
        new Idea("SuperTech", 6),
        new Mvp("FutureCar", 6, 3),
        new Idea("VirtualHouse", 7),
        new Idea("NightVision", 4),
        new Mvp("SmartKey", 4, 5)
    };
    cout << "Số dự án: " << projects.size() << endl;
    int sum = 0;
    for(int i = 0; i < projects.size(); i++) {
        sum += projects[i]->grantMoney();
        cout << i + 1 << ".";
        projects[i]->print();
        cout << endl;
    }
    cout << "Tổng tiền tài trợ:" << sum;
    return 0;
}
```

Kết quả mong đợi của hàm main sẽ có dạng như sau:

```text
Chương trình hỗ trợ Hackathon của AlphaTech tháng 6/2023
Số dự án: 5
1. Ý tưởng: SuperTech. Phát triển: 6 tháng. Kinh phí: 120000000
2. Sản phẩm: FutureCar. Vận hành: 6 tháng. Marketing: 3 tháng. Kinh phí: 135000000
3. Ý tưởng: VirtualHouse. Phát triển: 7 tháng. Kinh phí: 140000000
4. Ý tưởng: NightVision. Phát triển: 4 tháng. Kinh phí: 80000000
5. Sản phẩm: SmartKey. Vận hành: 4 tháng. Marketing: 5 tháng. Kinh phí: 135000000
Tổng tiền tài trợ: 610000000
```

### **Câu 3.1**
 Vẽ sơ đồ lớp, khai báo và cài đặt các lớp phục vụ chương trình trên. <br>
 *Chú ý: Một giải pháp giải quyết vấn đề theo hướng đối tượng sẽ cân nhắc các yếu tố về tính tiến hóa, dễ mở rộng, dễ bảo trì và mã nguồn có khả năng tái sử dụng cao.*

### **Câu 3.2**

**Câu 3.2.a:** Trong trường hợp ứng dụng muốn nâng cấp để hiển thị số tiền không phải dạng thô mà có kí tự phân cách hàng ngàn (thousand separator) là dấu chấm (“.”) thì bạn sẽ cải tiến chương trình của mình ra sao? Ngoài ra nếu kí tự phân cách hàng ngàn là dấu phẩy (“,”) thì sao? <br>
&emsp;*Ví dụ:* &emsp;Thay vì hiển thị 120000000 thì sẽ hiển thị 120.000.000 hoặc 120,000,000 <br>
&emsp;&emsp;&emsp;&emsp;&emsp;Hãy trình bày ý tưởng và vẽ lại sơ đồ lớp đã được cập nhật, không cần cài đặt.

**Câu 3.2.b:** Trong trường hợp ứng dụng muốn hiển thị dạng tiền tệ không chỉ vnd mà hỗ trợ tiền \$ thì sao? <br>
&emsp;*Ví dụ:* &emsp;Nếu là tiền tệ của Việt Nam: 120.000.000 **đ**. <br>
&emsp;&emsp;&emsp;&emsp;&emsp;Nếu là tiền tệ của Mĩ: **\$** 120,000,000 <br>
Hãy trình bày ý tưởng và **vẽ lại sơ đồ lớp** đã được cập nhật để hỗ trợ cách thức hiển thị mới này, không cần cài đặt.

**Câu 3.2.c:** Thay vì hiển thị từng dòng, ứng dụng muốn **cung cấp thêm** cách hiển thị ở dạng bảng như thế này thì sao:

```text
Loại dự án | Tên dự án     | Thông tin                                   | Kinh phí
------------------------------------------------------------------------------------------
Ý tưởng    | SuperTech     | Phát triển: 6 tháng                         | 120.000.000
Sản phẩm   | FutureCar     | Vận hành: 6 tháng. Marketing: 3 tháng       | 135.000.000
Ý tưởng    | VirtualHouse  | Phát triển: 7 tháng                         | 140.000.000
Ý tưởng    | NightVision   | Phát triển: 4 tháng                         | 80.000.000
Sản phẩm   | SmartKey      | Vận hành: 4 tháng. Marketing: 5 tháng       | 135.000.000
```

Hãy trình bày ý tưởng và **vẽ lại sơ đồ lớp** đã được cập nhật, không cần cài đặt.

**Câu 3.2.d:** Nếu sau này công ty thay đổi chiến lược tài trợ, chẳng hạn:

* Dự án sẽ được tài trợ vừa là tiền pháp định (VND) và tiền mã hóa crypto cũng như tài trợ văn phòng (ví dụ địa chỉ là 227 Nguyễn Văn Cừ P4 Q5, theo sau là tên phòng được cấp) <br>
* Dự án kéo dài quá 6 tháng thì từ tháng thứ 7 sẽ nhận thêm 20% tiền pháp định mỗi tháng.

Bạn sẽ thay đổi thiết kế như thế nào để hỗ trợ chiến lược tài trợ mới này? Hãy trình bày ý tưởng và **vẽ lại sơ đồ lớp** đã được cập nhật để hỗ trợ thay đổi này, không cần cài đặt.

<br> <div align="center">
    ======================== HẾT ========================
</div>